<?xml version="1.0"?>

<document>
<properties>
<title>Change Log</title>
<author email="m.b.taylor@bristol.ac.uk">Mark Taylor</author>
</properties>

<body>

<section name="Version History">
<dl>
<dt><a href="../jsamp-0.1/index.html">Version 0.1</a> (31 July 2008)</dt>
<dd>Initial release (beta).  Targets SAMP WD v1.0 (25 June 2008).
    </dd>

<dt><a href="../jsamp-0.2/index.html">Version 0.2</a> (19 September 2008)</dt>
<dd><dl>
    <dt>Code reorganisation and pluggable XML-RPC implementation:</dt>
    <dd>The XML-RPC and Standard Profile-related parts of the library have
        been reorganised somewhat.
        A new package 
        <a target="samp-javadoc"
           href="apidocs/org/astrogrid/samp/xmlrpc/package-summary.html"
                        >org.astrogrid.samp.xmlrpc</a>
        ant its descendants now hold all
        the code which relates specifically to XML-RPC communications and
        the SAMP Standard Profile; the code in the other packages is 
        profile-agnostic and handles only transport-independent aspects
        of the protocol.
        The <code>xmlrpc</code> package itself defines a pluggable 
        interface for providing XML-RPC client and server functionality;
        two implementations are also provided, in the packages 
        <a target="samp-javadoc"
           href="apidocs/org/astrogrid/samp/xmlrpc/apache/package-summary.html"
                                           >xmlrpc.apache</a>
        and
        <a target="samp-javadoc"
          href="apidocs/org/astrogrid/samp/xmlrpc/internal/package-summary.html"
                                          >xmlrpc.internal</a>.
        The Apache one is basically what was there in previous versions;
        the internal one is completely freestanding, and if this is used
        the Apache XML-RPC library is not required for operation.
        </dd>
    <dt>GUI functionality added</dt>
    <dd>There are more classes in the 
        <a target="samp-javadoc"
           href="apidocs/org/astrogrid/samp/gui/package-summary.html"
                        >org.astrogrid.samp.gui</a> package
        to facilitate high-level use of SAMP within GUI applications.
        <a target="samp-javadoc"
           href="apidocs/org/astrogrid/samp/gui/ConnectorGui.html"
                                               >ConnectorGui</a>
        provides Actions suitable for insertion in a general SAMP control menu,
        and
        <a target="samp-javadoc"
           href="apidocs/org/astrogrid/samp/gui/SendActionManager.html"
                                               >SendActionManager</a>
        provides menus and Actions for sending particular messages.
        </dd> 
    <dt>New command
        <a href="commands.html#Snooper"><code>snooper</code></a>:</dt>
    <dd>Logs received messages to the terminal.
        Useful for debugging.
        </dd>
    <dt>Minor changes:</dt>
    <dd><ul>
        <li>Moved some GUI functionality from <code>client.HubConnector</code>
            to <code>gui.ConnectorGui</code>.</li>
        <li><code>HubClient</code> privateKey member is now an Object
            not a String, for greater generality.</li>
        <li><code>RegInfo(String,String,String)</code> constructor
            withdrawn.</li>
        <li><code>HubRunner</code> class moved from package <code>hub</code>
            to <code>xmlrpc</code>.</li>
        <li>Several other more or less minor changes.</li>
        </ul>
        </dd>
    </dl>
    </dd>

<dt><a href="../jsamp-0.2-1/index.html">Version 0.2-1</a>
    (25 September 2008)</dt>
<dd><dl>
    <dt>Bugfixes:</dt>
    <dd><ul>
        <li>Fixed a problem with XML-RPC implementation when running in
            presence of unexpected (not 1.2) version of Apache XML-RPC
            library.</li>
        <li><code>jsamp.xmlrpc.impl</code> property now correctly propagated
            to JVM running external hub.</li>
        <li>Race condition in unit tests which sometimes gave false 
            failures is fixed.</li>
        <li>Fixed threading problem in <code>hubmonitor</code> which meant that
            sometimes window did not appear.</li>
        <li>Some other minor items.</li>
        </ul>
        </dd>
    </dl>
    </dd>

<dt>Next version</dt>
<dd><dl>
    <dt>Bugfixes:</dt>
    <dd><ul>
        <li>Fixed server error which sometimes resulted in failed reads,
            especially for long messages.</li>
        <li>Fixed error in handling CalcStorm <code>-xmlrpc</code> flag.</li>
        </ul>
        </dd>
    <dt>Other:</dt>
    <dd><ul>
        <li>Improved performance of internal client when sending long 
            messages.</li>
        <li>Added test for long messages in HubTester.</li>
        <li>HubTester now tests nearly all <code>string</code> characters.</li>
        <li>Change return values of <code>callAll</code> and
            <code>notifyAll</code> hub methods as per modifications to 
            standard.  Affects hub and client API, implementation and 
            test suite.</li>
        <li>HubConnector now subscribes to <code>samp.hub.disconnect</code>
            MType.</li>
        <li>Add <code>SampUtils.isSampChar()</code> convenience method.</li>
        <li>MessageSender now pretty-prints response(s).</li>
        <li>Default XML-RPC implementation is now Internal rather than
            Apache.</li>
        <li>Add public <code>createTag</code> method to 
            <code>HubConnector</code>.</li>
        <li>Replace <code>DefaultSendActionManager</code> class with
            <code>NotifyActionManager</code> and <code>CallActionManager</code>.
            The latter makes it easy to inform the user of responses to 
            messages which have been sent, graphically or in other ways.</li>
        <li><code>HubRunner</code> and <code>ConnectorGui</code> APIs modified 
            to permit use of various different hub implementations
            (with different graphical characteristics -
            see <code>HubMode</code>).</li>
        <li>Added the option to see what messages are in progress to the
            hub view and the hub monitor.</li>
        <li>New class <code>gui.GuiHubConnector</code> now contains the
            Swing-related functionality which was previously in 
            (its superclass) <code>client.HubConnector</code>, and also
            all the functionality from the now removed class
            <code>gui.ConnectorGui</code>.  This is a backwardly-incompatible
            change which may well be visible to client code, but
            the changes required are not difficult to make.</li>
        <li><code>HubConnector</code> class moved from <code>samp.client</code>
            into <code>samp.gui</code> package.</li>
        </ul>
        </dd>
    </dl>
    </dd>
</dl>
</section>

</body>
</document>
